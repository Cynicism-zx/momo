{"remainingRequest":"E:\\BaiduNetdiskDownload\\gin-vue-admin\\web\\node_modules\\_babel-loader@8.2.2@babel-loader\\lib\\index.js!E:\\BaiduNetdiskDownload\\gin-vue-admin\\web\\node_modules\\_eslint-loader@2.2.1@eslint-loader\\index.js??ref--13-0!E:\\BaiduNetdiskDownload\\gin-vue-admin\\web\\src\\store\\module\\router.js","dependencies":[{"path":"E:\\BaiduNetdiskDownload\\gin-vue-admin\\web\\src\\store\\module\\router.js","mtime":1618795335771},{"path":"E:\\BaiduNetdiskDownload\\gin-vue-admin\\web\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\BaiduNetdiskDownload\\gin-vue-admin\\web\\node_modules\\_babel-loader@8.2.2@babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\BaiduNetdiskDownload\\gin-vue-admin\\web\\node_modules\\_eslint-loader@2.2.1@eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkU6L0JhaWR1TmV0ZGlza0Rvd25sb2FkL2dpbi12dWUtYWRtaW4vd2ViL25vZGVfbW9kdWxlcy9fQGJhYmVsX3J1bnRpbWVANy4xMy4xMEBAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0IHsgYXN5bmNSb3V0ZXJIYW5kbGUgfSBmcm9tICdAL3V0aWxzL2FzeW5jUm91dGVyJzsKaW1wb3J0IHsgYXN5bmNNZW51IH0gZnJvbSAnQC9hcGkvbWVudSc7CnZhciByb3V0ZXJMaXN0ID0gW107Cgp2YXIgZm9ybWF0Um91dGVyID0gZnVuY3Rpb24gZm9ybWF0Um91dGVyKHJvdXRlcykgewogIHJvdXRlcyAmJiByb3V0ZXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICBpZiAoKCFpdGVtLmNoaWxkcmVuIHx8IGl0ZW0uY2hpbGRyZW4uZXZlcnkoZnVuY3Rpb24gKGNoKSB7CiAgICAgIHJldHVybiBjaC5oaWRkZW47CiAgICB9KSkgJiYgaXRlbS5uYW1lICE9ICc0MDQnKSB7CiAgICAgIHJvdXRlckxpc3QucHVzaCh7CiAgICAgICAgbGFiZWw6IGl0ZW0ubWV0YS50aXRsZSwKICAgICAgICB2YWx1ZTogaXRlbS5uYW1lCiAgICAgIH0pOwogICAgfQoKICAgIGlmIChpdGVtLmNoaWxkcmVuICYmIGl0ZW0uY2hpbGRyZW4ubGVuZ3RoID4gMCkgewogICAgICBmb3JtYXRSb3V0ZXIoaXRlbS5jaGlsZHJlbik7CiAgICB9CiAgfSk7Cn07CgpleHBvcnQgdmFyIHJvdXRlciA9IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiB7CiAgICBhc3luY1JvdXRlcnM6IFtdLAogICAgcm91dGVyTGlzdDogcm91dGVyTGlzdAogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRSb3V0ZXJMaXN0OiBmdW5jdGlvbiBzZXRSb3V0ZXJMaXN0KHN0YXRlLCByb3V0ZXJMaXN0KSB7CiAgICAgIHN0YXRlLnJvdXRlckxpc3QgPSByb3V0ZXJMaXN0OwogICAgfSwKICAgIC8vIOiuvue9ruWKqOaAgei3r+eUsQogICAgc2V0QXN5bmNSb3V0ZXI6IGZ1bmN0aW9uIHNldEFzeW5jUm91dGVyKHN0YXRlLCBhc3luY1JvdXRlcnMpIHsKICAgICAgc3RhdGUuYXN5bmNSb3V0ZXJzID0gYXN5bmNSb3V0ZXJzOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgLy8g5LuO5ZCO5Y+w6I635Y+W5Yqo5oCB6Lev55SxCiAgICBTZXRBc3luY1JvdXRlcjogZnVuY3Rpb24gU2V0QXN5bmNSb3V0ZXIoX3JlZikgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBjb21taXQsIGJhc2VSb3V0ZXIsIGFzeW5jUm91dGVyUmVzLCBhc3luY1JvdXRlcjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICAgIGJhc2VSb3V0ZXIgPSBbewogICAgICAgICAgICAgICAgICBwYXRoOiAnL2xheW91dCcsCiAgICAgICAgICAgICAgICAgIG5hbWU6ICdsYXlvdXQnLAogICAgICAgICAgICAgICAgICBjb21wb25lbnQ6ICJ2aWV3L2xheW91dC9pbmRleC52dWUiLAogICAgICAgICAgICAgICAgICBtZXRhOiB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLlupXlsYJsYXlvdXQiCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXQogICAgICAgICAgICAgICAgfV07CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBhc3luY01lbnUoKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgYXN5bmNSb3V0ZXJSZXMgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghKGFzeW5jUm91dGVyUmVzLmNvZGUgIT0gMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBhc3luY1JvdXRlciA9IGFzeW5jUm91dGVyUmVzLmRhdGEgJiYgYXN5bmNSb3V0ZXJSZXMuZGF0YS5tZW51czsKICAgICAgICAgICAgICAgIGFzeW5jUm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBwYXRoOiAiNDA0IiwKICAgICAgICAgICAgICAgICAgbmFtZTogIjQwNCIsCiAgICAgICAgICAgICAgICAgIGhpZGRlbjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgbWV0YTogewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAi6L+36Lev5LqGKuOAgioiCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogJ3ZpZXcvZXJyb3IvaW5kZXgudnVlJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBmb3JtYXRSb3V0ZXIoYXN5bmNSb3V0ZXIpOwogICAgICAgICAgICAgICAgYmFzZVJvdXRlclswXS5jaGlsZHJlbiA9IGFzeW5jUm91dGVyOwogICAgICAgICAgICAgICAgYmFzZVJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgcGF0aDogJyonLAogICAgICAgICAgICAgICAgICByZWRpcmVjdDogJy9sYXlvdXQvNDA0JwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBhc3luY1JvdXRlckhhbmRsZShiYXNlUm91dGVyKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0QXN5bmNSb3V0ZXInLCBiYXNlUm91dGVyKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0Um91dGVyTGlzdCcsIHJvdXRlckxpc3QpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgdHJ1ZSk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBnZXR0ZXJzOiB7CiAgICAvLyDojrflj5bliqjmgIHot6/nlLEKICAgIGFzeW5jUm91dGVyczogZnVuY3Rpb24gYXN5bmNSb3V0ZXJzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5hc3luY1JvdXRlcnM7CiAgICB9LAogICAgcm91dGVyTGlzdDogZnVuY3Rpb24gcm91dGVyTGlzdChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUucm91dGVyTGlzdDsKICAgIH0sCiAgICBkZWZhdWx0Um91dGVyOiBmdW5jdGlvbiBkZWZhdWx0Um91dGVyKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5kZWZhdWx0Um91dGVyOwogICAgfQogIH0KfTs="},{"version":3,"sources":["E:/BaiduNetdiskDownload/gin-vue-admin/web/src/store/module/router.js"],"names":["asyncRouterHandle","asyncMenu","routerList","formatRouter","routes","map","item","children","every","ch","hidden","name","push","label","meta","title","value","length","router","namespaced","state","asyncRouters","mutations","setRouterList","setAsyncRouter","actions","SetAsyncRouter","commit","baseRouter","path","component","asyncRouterRes","code","asyncRouter","data","menus","redirect","getters","defaultRouter"],"mappings":"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","sourcesContent":["import { asyncRouterHandle } from '@/utils/asyncRouter';\r\n\r\nimport { asyncMenu } from '@/api/menu'\r\n\r\nconst routerList = []\r\nconst formatRouter = (routes) => {\r\n    routes && routes.map(item => {\r\n        if ((!item.children || item.children.every(ch => ch.hidden)) && item.name != '404') {\r\n            routerList.push({ label: item.meta.title, value: item.name })\r\n        }\r\n        if (item.children && item.children.length > 0) {\r\n            formatRouter(item.children)\r\n        }\r\n    })\r\n}\r\n\r\nexport const router = {\r\n    namespaced: true,\r\n    state: {\r\n        asyncRouters: [],\r\n        routerList: routerList,\r\n    },\r\n    mutations: {\r\n        setRouterList(state, routerList) {\r\n            state.routerList = routerList\r\n        },\r\n        // 设置动态路由\r\n        setAsyncRouter(state, asyncRouters) {\r\n            state.asyncRouters = asyncRouters\r\n        },\r\n    },\r\n    actions: {\r\n        // 从后台获取动态路由\r\n        async SetAsyncRouter({ commit }) {\r\n            const baseRouter = [{\r\n                path: '/layout',\r\n                name: 'layout',\r\n                component: \"view/layout/index.vue\",\r\n                meta: {\r\n                    title: \"底层layout\"\r\n                },\r\n                children: []\r\n            }]\r\n            const asyncRouterRes = await asyncMenu()\r\n            if(asyncRouterRes.code !=0){\r\n                return\r\n            }\r\n            const asyncRouter = asyncRouterRes.data&&asyncRouterRes.data.menus\r\n            asyncRouter.push({\r\n                path: \"404\",\r\n                name: \"404\",\r\n                hidden: true,\r\n                meta: {\r\n                    title: \"迷路了*。*\",\r\n                },\r\n                component: 'view/error/index.vue'\r\n            })\r\n            formatRouter(asyncRouter)\r\n            baseRouter[0].children = asyncRouter\r\n            baseRouter.push({\r\n                path: '*',\r\n                redirect: '/layout/404'\r\n\r\n            })\r\n            asyncRouterHandle(baseRouter)\r\n            commit('setAsyncRouter', baseRouter)\r\n            commit('setRouterList', routerList)\r\n            return true\r\n        }\r\n    },\r\n    getters: {\r\n        // 获取动态路由\r\n        asyncRouters(state) {\r\n            return state.asyncRouters\r\n        },\r\n        routerList(state) {\r\n            return state.routerList\r\n        },\r\n        defaultRouter(state) {\r\n            return state.defaultRouter\r\n        }\r\n    }\r\n}"]}]}