{"remainingRequest":"E:\\BaiduNetdiskDownload\\gin-vue-admin\\web\\node_modules\\_babel-loader@8.2.2@babel-loader\\lib\\index.js!E:\\BaiduNetdiskDownload\\gin-vue-admin\\web\\node_modules\\_eslint-loader@2.2.1@eslint-loader\\index.js??ref--13-0!E:\\BaiduNetdiskDownload\\gin-vue-admin\\web\\src\\store\\module\\user.js","dependencies":[{"path":"E:\\BaiduNetdiskDownload\\gin-vue-admin\\web\\src\\store\\module\\user.js","mtime":1618795335771},{"path":"E:\\BaiduNetdiskDownload\\gin-vue-admin\\web\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\BaiduNetdiskDownload\\gin-vue-admin\\web\\node_modules\\_babel-loader@8.2.2@babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\BaiduNetdiskDownload\\gin-vue-admin\\web\\node_modules\\_eslint-loader@2.2.1@eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkU6L0JhaWR1TmV0ZGlza0Rvd25sb2FkL2dpbi12dWUtYWRtaW4vd2ViL25vZGVfbW9kdWxlcy9fQGJhYmVsX3J1bnRpbWVANy4xMy4xMEBAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovQmFpZHVOZXRkaXNrRG93bmxvYWQvZ2luLXZ1ZS1hZG1pbi93ZWIvbm9kZV9tb2R1bGVzL19AYmFiZWxfcnVudGltZUA3LjEzLjEwQEBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IGxvZ2luIH0gZnJvbSAnQC9hcGkvdXNlcic7CmltcG9ydCB7IGpzb25JbkJsYWNrbGlzdCB9IGZyb20gJ0AvYXBpL2p3dCc7CmltcG9ydCByb3V0ZXIgZnJvbSAnQC9yb3V0ZXIvaW5kZXgnOwpleHBvcnQgdmFyIHVzZXIgPSB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogewogICAgdXNlckluZm86IHsKICAgICAgdXVpZDogIiIsCiAgICAgIG5pY2tOYW1lOiAiIiwKICAgICAgaGVhZGVySW1nOiAiIiwKICAgICAgYXV0aG9yaXR5OiAiIgogICAgfSwKICAgIHRva2VuOiAiIgogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRVc2VySW5mbzogZnVuY3Rpb24gc2V0VXNlckluZm8oc3RhdGUsIHVzZXJJbmZvKSB7CiAgICAgIC8vIOi/memHjOeahCBgc3RhdGVgIOWvueixoeaYr+aooeWdl+eahOWxgOmDqOeKtuaAgQogICAgICBzdGF0ZS51c2VySW5mbyA9IHVzZXJJbmZvOwogICAgfSwKICAgIHNldFRva2VuOiBmdW5jdGlvbiBzZXRUb2tlbihzdGF0ZSwgdG9rZW4pIHsKICAgICAgLy8g6L+Z6YeM55qEIGBzdGF0ZWAg5a+56LGh5piv5qih5Z2X55qE5bGA6YOo54q25oCBCiAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgICB9LAogICAgTmVlZEluaXQ6IGZ1bmN0aW9uIE5lZWRJbml0KHN0YXRlKSB7CiAgICAgIHN0YXRlLnVzZXJJbmZvID0ge307CiAgICAgIHN0YXRlLnRva2VuID0gIiI7CiAgICAgIHNlc3Npb25TdG9yYWdlLmNsZWFyKCk7CiAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnaW5pdCcsCiAgICAgICAgcmVwbGFjZTogdHJ1ZQogICAgICB9KTsKICAgIH0sCiAgICBMb2dpbk91dDogZnVuY3Rpb24gTG9naW5PdXQoc3RhdGUpIHsKICAgICAgc3RhdGUudXNlckluZm8gPSB7fTsKICAgICAgc3RhdGUudG9rZW4gPSAiIjsKICAgICAgc2Vzc2lvblN0b3JhZ2UuY2xlYXIoKTsKICAgICAgcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdsb2dpbicsCiAgICAgICAgcmVwbGFjZTogdHJ1ZQogICAgICB9KTsKICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgfSwKICAgIFJlc2V0VXNlckluZm86IGZ1bmN0aW9uIFJlc2V0VXNlckluZm8oc3RhdGUpIHsKICAgICAgdmFyIHVzZXJJbmZvID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsKICAgICAgc3RhdGUudXNlckluZm8gPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLnVzZXJJbmZvKSwgdXNlckluZm8pOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgTG9naW5JbjogZnVuY3Rpb24gTG9naW5JbihfcmVmLCBsb2dpbkluZm8pIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgY29tbWl0LCBkaXNwYXRjaCwgcm9vdEdldHRlcnMsIGdldHRlcnMsIHJlcywgYXN5bmNSb3V0ZXJzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0LCBkaXNwYXRjaCA9IF9yZWYuZGlzcGF0Y2gsIHJvb3RHZXR0ZXJzID0gX3JlZi5yb290R2V0dGVycywgZ2V0dGVycyA9IF9yZWYuZ2V0dGVyczsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGxvZ2luKGxvZ2luSW5mbyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEocmVzLmNvZGUgPT0gMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb21taXQoJ3NldFVzZXJJbmZvJywgcmVzLmRhdGEudXNlcik7CiAgICAgICAgICAgICAgICBjb21taXQoJ3NldFRva2VuJywgcmVzLmRhdGEudG9rZW4pOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ3JvdXRlci9TZXRBc3luY1JvdXRlcicsIHt9LCB7CiAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBhc3luY1JvdXRlcnMgPSByb290R2V0dGVyc1sncm91dGVyL2FzeW5jUm91dGVycyddOwogICAgICAgICAgICAgICAgcm91dGVyLmFkZFJvdXRlcyhhc3luY1JvdXRlcnMpOyAvLyBjb25zdCByZWRpcmVjdCA9IHJvdXRlci5oaXN0b3J5LmN1cnJlbnQucXVlcnkucmVkaXJlY3QKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlZGlyZWN0KQogICAgICAgICAgICAgICAgLy8gaWYgKHJlZGlyZWN0KSB7CiAgICAgICAgICAgICAgICAvLyAgICAgcm91dGVyLnB1c2goeyBwYXRoOiByZWRpcmVjdCB9KQogICAgICAgICAgICAgICAgLy8gfSBlbHNlIHsKCiAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6IGdldHRlcnNbInVzZXJJbmZvIl0uYXV0aG9yaXR5LmRlZmF1bHRSb3V0ZXIKICAgICAgICAgICAgICAgIH0pOyAvLyB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgdHJ1ZSk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgTG9naW5PdXQ6IGZ1bmN0aW9uIExvZ2luT3V0KF9yZWYyKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBjb21taXQsIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGpzb25JbkJsYWNrbGlzdCgpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT0gMCkgewogICAgICAgICAgICAgICAgICBjb21taXQoIkxvZ2luT3V0Iik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgZ2V0dGVyczogewogICAgdXNlckluZm86IGZ1bmN0aW9uIHVzZXJJbmZvKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2VySW5mbzsKICAgIH0sCiAgICB0b2tlbjogZnVuY3Rpb24gdG9rZW4oc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnRva2VuOwogICAgfQogIH0KfTs="},{"version":3,"sources":["E:/BaiduNetdiskDownload/gin-vue-admin/web/src/store/module/user.js"],"names":["login","jsonInBlacklist","router","user","namespaced","state","userInfo","uuid","nickName","headerImg","authority","token","mutations","setUserInfo","setToken","NeedInit","sessionStorage","clear","push","name","replace","LoginOut","window","location","reload","ResetUserInfo","actions","LoginIn","loginInfo","commit","dispatch","rootGetters","getters","res","code","data","root","asyncRouters","addRoutes","defaultRouter"],"mappings":"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","sourcesContent":["import { login } from '@/api/user'\r\nimport { jsonInBlacklist } from '@/api/jwt'\r\nimport router from '@/router/index'\r\nexport const user = {\r\n    namespaced: true,\r\n    state: {\r\n        userInfo: {\r\n            uuid: \"\",\r\n            nickName: \"\",\r\n            headerImg: \"\",\r\n            authority: \"\",\r\n        },\r\n        token: \"\",\r\n    },\r\n    mutations: {\r\n        setUserInfo(state, userInfo) {\r\n            // 这里的 `state` 对象是模块的局部状态\r\n            state.userInfo = userInfo\r\n        },\r\n        setToken(state, token) {\r\n            // 这里的 `state` 对象是模块的局部状态\r\n            state.token = token\r\n        },\r\n        NeedInit(state){\r\n            state.userInfo = {}\r\n            state.token = \"\"\r\n            sessionStorage.clear()\r\n            router.push({ name: 'init', replace: true })\r\n\r\n        },\r\n        LoginOut(state) {\r\n            state.userInfo = {}\r\n            state.token = \"\"\r\n            sessionStorage.clear()\r\n            router.push({ name: 'login', replace: true })\r\n            window.location.reload()\r\n        },\r\n        ResetUserInfo(state, userInfo = {}) {\r\n            state.userInfo = {...state.userInfo,\r\n                ...userInfo\r\n            }\r\n        }\r\n    },\r\n    actions: {\r\n        async LoginIn({ commit, dispatch, rootGetters, getters }, loginInfo) {\r\n            const res = await login(loginInfo)\r\n            if (res.code == 0) {\r\n                commit('setUserInfo', res.data.user)\r\n                commit('setToken', res.data.token)\r\n                await dispatch('router/SetAsyncRouter', {}, { root: true })\r\n                const asyncRouters = rootGetters['router/asyncRouters']\r\n                router.addRoutes(asyncRouters)\r\n                // const redirect = router.history.current.query.redirect\r\n                // console.log(redirect)\r\n                // if (redirect) {\r\n                //     router.push({ path: redirect })\r\n                // } else {\r\n                    router.push({ name: getters[\"userInfo\"].authority.defaultRouter })\r\n                // }\r\n                return true\r\n            }\r\n        },\r\n        async LoginOut({ commit }) {\r\n            const res = await jsonInBlacklist()\r\n            if (res.code == 0) {\r\n                commit(\"LoginOut\")\r\n            }\r\n        }\r\n    },\r\n    getters: {\r\n        userInfo(state) {\r\n            return state.userInfo\r\n        },\r\n        token(state) {\r\n            return state.token\r\n        },\r\n\r\n    }\r\n}"]}]}