{"remainingRequest":"E:\\BaiduNetdiskDownload\\gin-vue-admin\\web\\node_modules\\_vue-loader@15.9.6@vue-loader\\lib\\index.js??vue-loader-options!E:\\BaiduNetdiskDownload\\gin-vue-admin\\web\\src\\view\\superAdmin\\authority\\authority.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\BaiduNetdiskDownload\\gin-vue-admin\\web\\src\\view\\superAdmin\\authority\\authority.vue","mtime":1618795335792},{"path":"E:\\BaiduNetdiskDownload\\gin-vue-admin\\web\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\BaiduNetdiskDownload\\gin-vue-admin\\web\\node_modules\\_babel-loader@8.2.2@babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\BaiduNetdiskDownload\\gin-vue-admin\\web\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\BaiduNetdiskDownload\\gin-vue-admin\\web\\node_modules\\_vue-loader@15.9.6@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyDojrflj5bliJfooajlhoXlrrnlsIHoo4XlnKhtaXhpbnPlhoXpg6ggIGdldFRhYmxlRGF0YeaWueazlSDliJ3lp4vljJblt7LlsIHoo4XlrozmiJANCg0KaW1wb3J0IHsNCiAgZ2V0QXV0aG9yaXR5TGlzdCwNCiAgZGVsZXRlQXV0aG9yaXR5LA0KICBjcmVhdGVBdXRob3JpdHksDQogIHVwZGF0ZUF1dGhvcml0eSwNCiAgY29weUF1dGhvcml0eQ0KfSBmcm9tICJAL2FwaS9hdXRob3JpdHkiOw0KDQppbXBvcnQgTWVudXMgZnJvbSAiQC92aWV3L3N1cGVyQWRtaW4vYXV0aG9yaXR5L2NvbXBvbmVudHMvbWVudXMiOw0KaW1wb3J0IEFwaXMgZnJvbSAiQC92aWV3L3N1cGVyQWRtaW4vYXV0aG9yaXR5L2NvbXBvbmVudHMvYXBpcyI7DQppbXBvcnQgRGF0YXMgZnJvbSAiQC92aWV3L3N1cGVyQWRtaW4vYXV0aG9yaXR5L2NvbXBvbmVudHMvZGF0YXMiOw0KDQppbXBvcnQgaW5mb0xpc3QgZnJvbSAiQC9taXhpbnMvaW5mb0xpc3QiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiQXV0aG9yaXR5IiwNCiAgbWl4aW5zOiBbaW5mb0xpc3RdLA0KICBkYXRhKCkgew0KICAgIHZhciBtdXN0VWludCA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsNCiAgICAgIGlmICghL15bMC05XSpbMS05XVswLTldKiQvLnRlc3QodmFsdWUpKSB7DQogICAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoIuivt+i+k+WFpeato+aVtOaVsCIpKTsNCiAgICAgIH0NCiAgICAgIHJldHVybiBjYWxsYmFjaygpOw0KICAgIH07DQoNCiAgICByZXR1cm4gew0KICAgICAgQXV0aG9yaXR5T3B0aW9uOiBbDQogICAgICAgIHsNCiAgICAgICAgICBhdXRob3JpdHlJZDogIjAiLA0KICAgICAgICAgIGF1dGhvcml0eU5hbWU6ICLmoLnop5LoibIiDQogICAgICAgIH0NCiAgICAgIF0sDQogICAgICBsaXN0QXBpOiBnZXRBdXRob3JpdHlMaXN0LA0KICAgICAgZHJhd2VyOiBmYWxzZSwNCiAgICAgIGRpYWxvZ1R5cGU6ICJhZGQiLA0KICAgICAgYWN0aXZlUm93OiB7fSwNCiAgICAgIGFjdGl2ZVVzZXJJZDogMCwNCiAgICAgIGRpYWxvZ1RpdGxlOiAi5paw5aKe6KeS6ImyIiwNCiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZSwNCiAgICAgIGFwaURpYWxvZ0ZsYWc6IGZhbHNlLA0KICAgICAgY29weUZvcm06IHt9LA0KICAgICAgZm9ybTogew0KICAgICAgICBhdXRob3JpdHlJZDogIiIsDQogICAgICAgIGF1dGhvcml0eU5hbWU6ICIiLA0KICAgICAgICBwYXJlbnRJZDogIjAiDQogICAgICB9LA0KICAgICAgcnVsZXM6IHsNCiAgICAgICAgYXV0aG9yaXR5SWQ6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl6KeS6ImySUQiLCB0cmlnZ2VyOiAiYmx1ciIgfSwNCiAgICAgICAgICB7IHZhbGlkYXRvcjogbXVzdFVpbnQsIHRyaWdnZXI6ICJibHVyIiB9DQogICAgICAgIF0sDQogICAgICAgIGF1dGhvcml0eU5hbWU6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl6KeS6Imy5ZCNIiwgdHJpZ2dlcjogImJsdXIiIH0NCiAgICAgICAgXSwNCiAgICAgICAgcGFyZW50SWQ6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36YCJ5oup6K+35rGC5pa55byPIiwgdHJpZ2dlcjogImJsdXIiIH0NCiAgICAgICAgXQ0KICAgICAgfQ0KICAgIH07DQogIH0sDQogIGNvbXBvbmVudHM6IHsNCiAgICBNZW51cywNCiAgICBBcGlzLA0KICAgIERhdGFzDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBhdXRvRW50ZXIoYWN0aXZlTmFtZSwgb2xkQWN0aXZlTmFtZSkgew0KICAgICAgY29uc3QgcGFuZUFyciA9IFsibWVudXMiLCAiYXBpcyIsICJkYXRhcyJdOw0KICAgICAgaWYgKG9sZEFjdGl2ZU5hbWUpIHsNCiAgICAgICAgaWYgKHRoaXMuJHJlZnNbcGFuZUFycltvbGRBY3RpdmVOYW1lXV0ubmVlZENvbmZpcm0pIHsNCiAgICAgICAgICB0aGlzLiRyZWZzW3BhbmVBcnJbb2xkQWN0aXZlTmFtZV1dLmVudGVyQW5kTmV4dCgpOw0KICAgICAgICAgIHRoaXMuJHJlZnNbcGFuZUFycltvbGRBY3RpdmVOYW1lXV0ubmVlZENvbmZpcm0gPSBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g5ou36LSd6KeS6ImyDQogICAgY29weUF1dGhvcml0eShyb3cpIHsNCiAgICAgIHRoaXMuc2V0T3B0aW9ucygpOw0KICAgICAgdGhpcy5kaWFsb2dUaXRsZSA9ICLmi7fotJ3op5LoibIiOw0KICAgICAgdGhpcy5kaWFsb2dUeXBlID0gImNvcHkiOw0KICAgICAgZm9yIChsZXQgayBpbiB0aGlzLmZvcm0pIHsNCiAgICAgICAgdGhpcy5mb3JtW2tdID0gcm93W2tdOw0KICAgICAgfQ0KICAgICAgdGhpcy5jb3B5Rm9ybSA9IHJvdzsNCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlOw0KICAgIH0sDQogICAgb3BkZW5kcmF3ZXIocm93KSB7DQogICAgICB0aGlzLmRyYXdlciA9IHRydWU7DQogICAgICB0aGlzLmFjdGl2ZVJvdyA9IHJvdzsNCiAgICB9LA0KICAgIC8vIOWIoOmZpOinkuiJsg0KICAgIGRlbGV0ZUF1dGgocm93KSB7DQogICAgICB0aGlzLiRjb25maXJtKCLmraTmk43kvZzlsIbmsLjkuYXliKDpmaTor6Xop5LoibIsIOaYr+WQpue7p+e7rT8iLCAi5o+Q56S6Iiwgew0KICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsDQogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLA0KICAgICAgICB0eXBlOiAid2FybmluZyINCiAgICAgIH0pDQogICAgICAgIC50aGVuKGFzeW5jICgpID0+IHsNCiAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBkZWxldGVBdXRob3JpdHkoeyBhdXRob3JpdHlJZDogcm93LmF1dGhvcml0eUlkIH0pOw0KICAgICAgICAgIGlmIChyZXMuY29kZSA9PSAwKSB7DQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLA0KICAgICAgICAgICAgICBtZXNzYWdlOiAi5Yig6Zmk5oiQ5YqfISINCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgaWYgKHRoaXMudGFibGVEYXRhLmxlbmd0aCA9PSAxKSB7DQogICAgICAgICAgICAgIHRoaXMucGFnZS0tOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5nZXRUYWJsZURhdGEoKTsNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoKSA9PiB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICB0eXBlOiAiaW5mbyIsDQogICAgICAgICAgICBtZXNzYWdlOiAi5bey5Y+W5raI5Yig6ZmkIg0KICAgICAgICAgIH0pOw0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIC8vIOWIneWni+WMluihqOWNlQ0KICAgIGluaXRGb3JtKCkgew0KICAgICAgaWYgKHRoaXMuJHJlZnMuYXV0aG9yaXR5Rm9ybSkgew0KICAgICAgICB0aGlzLiRyZWZzLmF1dGhvcml0eUZvcm0ucmVzZXRGaWVsZHMoKTsNCiAgICAgIH0NCiAgICAgIHRoaXMuZm9ybSA9IHsNCiAgICAgICAgYXV0aG9yaXR5SWQ6ICIiLA0KICAgICAgICBhdXRob3JpdHlOYW1lOiAiIiwNCiAgICAgICAgcGFyZW50SWQ6ICIwIg0KICAgICAgfTsNCiAgICB9LA0KICAgIC8vIOWFs+mXreeql+WPow0KICAgIGNsb3NlRGlhbG9nKCkgew0KICAgICAgdGhpcy5pbml0Rm9ybSgpOw0KICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlOw0KICAgICAgdGhpcy5hcGlEaWFsb2dGbGFnID0gZmFsc2U7DQogICAgfSwNCiAgICAvLyDnoa7lrprlvLnnqpcNCg0KICAgIGFzeW5jIGVudGVyRGlhbG9nKCkgew0KICAgICAgaWYgKHRoaXMuZm9ybS5hdXRob3JpdHlJZCA9PSAiMCIpIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgdHlwZTogImVycm9yIiwNCiAgICAgICAgICBtZXNzYWdlOiAi6KeS6ImyaWTkuI3og73kuLowIg0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfQ0KICAgICAgdGhpcy4kcmVmcy5hdXRob3JpdHlGb3JtLnZhbGlkYXRlKGFzeW5jIHZhbGlkID0+IHsNCiAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgc3dpdGNoICh0aGlzLmRpYWxvZ1R5cGUpIHsNCiAgICAgICAgICAgIGNhc2UgImFkZCI6DQogICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBjcmVhdGVBdXRob3JpdHkodGhpcy5mb3JtKTsNCiAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT0gMCkgew0KICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwNCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIua3u+WKoOaIkOWKnyEiDQogICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0VGFibGVEYXRhKCk7DQogICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlRGlhbG9nKCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgY2FzZSAiZWRpdCI6DQogICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB1cGRhdGVBdXRob3JpdHkodGhpcy5mb3JtKTsNCiAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT0gMCkgew0KICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwNCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIua3u+WKoOaIkOWKnyEiDQogICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0VGFibGVEYXRhKCk7DQogICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlRGlhbG9nKCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgY2FzZSAiY29weSI6IHsNCiAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsNCiAgICAgICAgICAgICAgICBhdXRob3JpdHk6IHsNCiAgICAgICAgICAgICAgICAgIGF1dGhvcml0eUlkOiAic3RyaW5nIiwNCiAgICAgICAgICAgICAgICAgIGF1dGhvcml0eU5hbWU6ICJzdHJpbmciLA0KICAgICAgICAgICAgICAgICAgZGF0YXV0aG9yaXR5SWQ6IFtdLA0KICAgICAgICAgICAgICAgICAgcGFyZW50SWQ6ICJzdHJpbmciDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBvbGRBdXRob3JpdHlJZDogMA0KICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICBkYXRhLmF1dGhvcml0eS5hdXRob3JpdHlJZCA9IHRoaXMuZm9ybS5hdXRob3JpdHlJZDsNCiAgICAgICAgICAgICAgZGF0YS5hdXRob3JpdHkuYXV0aG9yaXR5TmFtZSA9IHRoaXMuZm9ybS5hdXRob3JpdHlOYW1lOw0KICAgICAgICAgICAgICBkYXRhLmF1dGhvcml0eS5wYXJlbnRJZCA9IHRoaXMuZm9ybS5wYXJlbnRJZDsNCiAgICAgICAgICAgICAgZGF0YS5hdXRob3JpdHkuZGF0YUF1dGhvcml0eUlkID0gdGhpcy5jb3B5Rm9ybS5kYXRhQXV0aG9yaXR5SWQ7DQogICAgICAgICAgICAgIGRhdGEub2xkQXV0aG9yaXR5SWQgPSB0aGlzLmNvcHlGb3JtLmF1dGhvcml0eUlkOw0KICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBjb3B5QXV0aG9yaXR5KGRhdGEpOw0KICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT0gMCkgew0KICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLA0KICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIuWkjeWItuaIkOWKn++8gSINCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB0aGlzLmdldFRhYmxlRGF0YSgpOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KDQogICAgICAgICAgdGhpcy5pbml0Rm9ybSgpOw0KICAgICAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBzZXRPcHRpb25zKCkgew0KICAgICAgdGhpcy5BdXRob3JpdHlPcHRpb24gPSBbDQogICAgICAgIHsNCiAgICAgICAgICBhdXRob3JpdHlJZDogIjAiLA0KICAgICAgICAgIGF1dGhvcml0eU5hbWU6ICLmoLnop5LoibIiDQogICAgICAgIH0NCiAgICAgIF07DQogICAgICB0aGlzLnNldEF1dGhvcml0eU9wdGlvbnModGhpcy50YWJsZURhdGEsIHRoaXMuQXV0aG9yaXR5T3B0aW9uLCBmYWxzZSk7DQogICAgfSwNCiAgICBzZXRBdXRob3JpdHlPcHRpb25zKEF1dGhvcml0eURhdGEsIG9wdGlvbnNEYXRhLCBkaXNhYmxlZCkgew0KICAgICAgdGhpcy5mb3JtLmF1dGhvcml0eUlkID0gU3RyaW5nKHRoaXMuZm9ybS5hdXRob3JpdHlJZCk7DQogICAgICBBdXRob3JpdHlEYXRhICYmDQogICAgICAgIEF1dGhvcml0eURhdGEubWFwKGl0ZW0gPT4gew0KICAgICAgICAgIGlmIChpdGVtLmNoaWxkcmVuICYmIGl0ZW0uY2hpbGRyZW4ubGVuZ3RoKSB7DQogICAgICAgICAgICBjb25zdCBvcHRpb24gPSB7DQogICAgICAgICAgICAgIGF1dGhvcml0eUlkOiBpdGVtLmF1dGhvcml0eUlkLA0KICAgICAgICAgICAgICBhdXRob3JpdHlOYW1lOiBpdGVtLmF1dGhvcml0eU5hbWUsDQogICAgICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCB8fCBpdGVtLmF1dGhvcml0eUlkID09IHRoaXMuZm9ybS5hdXRob3JpdHlJZCwNCiAgICAgICAgICAgICAgY2hpbGRyZW46IFtdDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgdGhpcy5zZXRBdXRob3JpdHlPcHRpb25zKA0KICAgICAgICAgICAgICBpdGVtLmNoaWxkcmVuLA0KICAgICAgICAgICAgICBvcHRpb24uY2hpbGRyZW4sDQogICAgICAgICAgICAgIGRpc2FibGVkIHx8IGl0ZW0uYXV0aG9yaXR5SWQgPT0gdGhpcy5mb3JtLmF1dGhvcml0eUlkDQogICAgICAgICAgICApOw0KICAgICAgICAgICAgb3B0aW9uc0RhdGEucHVzaChvcHRpb24pOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBjb25zdCBvcHRpb24gPSB7DQogICAgICAgICAgICAgIGF1dGhvcml0eUlkOiBpdGVtLmF1dGhvcml0eUlkLA0KICAgICAgICAgICAgICBhdXRob3JpdHlOYW1lOiBpdGVtLmF1dGhvcml0eU5hbWUsDQogICAgICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCB8fCBpdGVtLmF1dGhvcml0eUlkID09IHRoaXMuZm9ybS5hdXRob3JpdHlJZA0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIG9wdGlvbnNEYXRhLnB1c2gob3B0aW9uKTsNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgLy8g5aKe5Yqg6KeS6ImyDQogICAgYWRkQXV0aG9yaXR5KHBhcmVudElkKSB7DQogICAgICB0aGlzLmluaXRGb3JtKCk7DQogICAgICB0aGlzLmRpYWxvZ1RpdGxlID0gIuaWsOWinuinkuiJsiI7DQogICAgICB0aGlzLmRpYWxvZ1R5cGUgPSAiYWRkIjsNCiAgICAgIHRoaXMuZm9ybS5wYXJlbnRJZCA9IHBhcmVudElkOw0KICAgICAgdGhpcy5zZXRPcHRpb25zKCk7DQogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gdHJ1ZTsNCiAgICB9LA0KICAgIC8vIOe8lui+keinkuiJsg0KICAgIGVkaXRBdXRob3JpdHkocm93KSB7DQogICAgICB0aGlzLnNldE9wdGlvbnMoKTsNCiAgICAgIHRoaXMuZGlhbG9nVGl0bGUgPSAi57yW6L6R6KeS6ImyIjsNCiAgICAgIHRoaXMuZGlhbG9nVHlwZSA9ICJlZGl0IjsNCiAgICAgIGZvciAobGV0IGtleSBpbiB0aGlzLmZvcm0pIHsNCiAgICAgICAgdGhpcy5mb3JtW2tleV0gPSByb3dba2V5XTsNCiAgICAgIH0NCiAgICAgIHRoaXMuc2V0T3B0aW9ucygpOw0KICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHRydWU7DQogICAgfQ0KICB9LA0KICBhc3luYyBjcmVhdGVkKCkgew0KICAgIHRoaXMucGFnZVNpemUgPSA5OTk7DQogICAgYXdhaXQgdGhpcy5nZXRUYWJsZURhdGEoKTsNCiAgfQ0KfTsNCg=="},{"version":3,"sources":["authority.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"authority.vue","sourceRoot":"src/view/superAdmin/authority","sourcesContent":["<template>\r\n  <div class=\"authority\">\r\n    <div class=\"button-box clearflex\">\r\n      <el-button @click=\"addAuthority('0')\" type=\"primary\">新增角色</el-button>\r\n    </div>\r\n    <el-table\r\n      :data=\"tableData\"\r\n      :tree-props=\"{children: 'children', hasChildren: 'hasChildren'}\"\r\n      border\r\n      row-key=\"authorityId\"\r\n      stripe\r\n      style=\"width: 100%\"\r\n    >\r\n      <el-table-column label=\"角色id\" min-width=\"180\" prop=\"authorityId\"></el-table-column>\r\n      <el-table-column label=\"角色名称\" min-width=\"180\" prop=\"authorityName\"></el-table-column>\r\n      <el-table-column fixed=\"right\" label=\"操作\" width=\"460\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button @click=\"opdendrawer(scope.row)\" size=\"small\" type=\"primary\">设置权限</el-button>\r\n          <el-button\r\n            @click=\"addAuthority(scope.row.authorityId)\"\r\n            icon=\"el-icon-plus\"\r\n            size=\"small\"\r\n            type=\"primary\"\r\n          >新增子角色</el-button>\r\n          <el-button\r\n            @click=\"copyAuthority(scope.row)\"\r\n            icon=\"el-icon-copy-document\"\r\n            size=\"small\"\r\n            type=\"primary\"\r\n          >拷贝</el-button>\r\n          <el-button\r\n            @click=\"editAuthority(scope.row)\"\r\n            icon=\"el-icon-edit\"\r\n            size=\"small\"\r\n            type=\"primary\"\r\n          >编辑</el-button>\r\n          <el-button\r\n            @click=\"deleteAuth(scope.row)\"\r\n            icon=\"el-icon-delete\"\r\n            size=\"small\"\r\n            type=\"danger\"\r\n          >删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 新增角色弹窗 -->\r\n    <el-dialog :title=\"dialogTitle\" :visible.sync=\"dialogFormVisible\">\r\n      <el-form :model=\"form\" :rules=\"rules\" ref=\"authorityForm\">\r\n        <el-form-item label=\"父级角色\" prop=\"parentId\">\r\n          <el-cascader\r\n            :disabled=\"dialogType=='add'\"\r\n            :options=\"AuthorityOption\"\r\n            :props=\"{ checkStrictly: true,label:'authorityName',value:'authorityId',disabled:'disabled',emitPath:false}\"\r\n            :show-all-levels=\"false\"\r\n            filterable\r\n            v-model=\"form.parentId\"\r\n          ></el-cascader>\r\n        </el-form-item>\r\n        <el-form-item label=\"角色ID\" prop=\"authorityId\">\r\n          <el-input :disabled=\"dialogType=='edit'\" autocomplete=\"off\" v-model=\"form.authorityId\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"角色姓名\" prop=\"authorityName\">\r\n          <el-input autocomplete=\"off\" v-model=\"form.authorityName\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div class=\"dialog-footer\" slot=\"footer\">\r\n        <el-button @click=\"closeDialog\">取 消</el-button>\r\n        <el-button @click=\"enterDialog\" type=\"primary\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <el-drawer :visible.sync=\"drawer\" :with-header=\"false\" size=\"40%\" title=\"角色配置\" v-if=\"drawer\">\r\n      <el-tabs :before-leave=\"autoEnter\" class=\"role-box\" type=\"border-card\">\r\n        <el-tab-pane label=\"角色菜单\">\r\n          <Menus :row=\"activeRow\" ref=\"menus\" />\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"角色api\">\r\n          <apis :row=\"activeRow\" ref=\"apis\" />\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"资源权限\">\r\n          <Datas :authority=\"tableData\" :row=\"activeRow\" ref=\"datas\" />\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n    </el-drawer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 获取列表内容封装在mixins内部  getTableData方法 初始化已封装完成\r\n\r\nimport {\r\n  getAuthorityList,\r\n  deleteAuthority,\r\n  createAuthority,\r\n  updateAuthority,\r\n  copyAuthority\r\n} from \"@/api/authority\";\r\n\r\nimport Menus from \"@/view/superAdmin/authority/components/menus\";\r\nimport Apis from \"@/view/superAdmin/authority/components/apis\";\r\nimport Datas from \"@/view/superAdmin/authority/components/datas\";\r\n\r\nimport infoList from \"@/mixins/infoList\";\r\nexport default {\r\n  name: \"Authority\",\r\n  mixins: [infoList],\r\n  data() {\r\n    var mustUint = (rule, value, callback) => {\r\n      if (!/^[0-9]*[1-9][0-9]*$/.test(value)) {\r\n        return callback(new Error(\"请输入正整数\"));\r\n      }\r\n      return callback();\r\n    };\r\n\r\n    return {\r\n      AuthorityOption: [\r\n        {\r\n          authorityId: \"0\",\r\n          authorityName: \"根角色\"\r\n        }\r\n      ],\r\n      listApi: getAuthorityList,\r\n      drawer: false,\r\n      dialogType: \"add\",\r\n      activeRow: {},\r\n      activeUserId: 0,\r\n      dialogTitle: \"新增角色\",\r\n      dialogFormVisible: false,\r\n      apiDialogFlag: false,\r\n      copyForm: {},\r\n      form: {\r\n        authorityId: \"\",\r\n        authorityName: \"\",\r\n        parentId: \"0\"\r\n      },\r\n      rules: {\r\n        authorityId: [\r\n          { required: true, message: \"请输入角色ID\", trigger: \"blur\" },\r\n          { validator: mustUint, trigger: \"blur\" }\r\n        ],\r\n        authorityName: [\r\n          { required: true, message: \"请输入角色名\", trigger: \"blur\" }\r\n        ],\r\n        parentId: [\r\n          { required: true, message: \"请选择请求方式\", trigger: \"blur\" }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  components: {\r\n    Menus,\r\n    Apis,\r\n    Datas\r\n  },\r\n  methods: {\r\n    autoEnter(activeName, oldActiveName) {\r\n      const paneArr = [\"menus\", \"apis\", \"datas\"];\r\n      if (oldActiveName) {\r\n        if (this.$refs[paneArr[oldActiveName]].needConfirm) {\r\n          this.$refs[paneArr[oldActiveName]].enterAndNext();\r\n          this.$refs[paneArr[oldActiveName]].needConfirm = false;\r\n        }\r\n      }\r\n    },\r\n    // 拷贝角色\r\n    copyAuthority(row) {\r\n      this.setOptions();\r\n      this.dialogTitle = \"拷贝角色\";\r\n      this.dialogType = \"copy\";\r\n      for (let k in this.form) {\r\n        this.form[k] = row[k];\r\n      }\r\n      this.copyForm = row;\r\n      this.dialogFormVisible = true;\r\n    },\r\n    opdendrawer(row) {\r\n      this.drawer = true;\r\n      this.activeRow = row;\r\n    },\r\n    // 删除角色\r\n    deleteAuth(row) {\r\n      this.$confirm(\"此操作将永久删除该角色, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(async () => {\r\n          const res = await deleteAuthority({ authorityId: row.authorityId });\r\n          if (res.code == 0) {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"删除成功!\"\r\n            });\r\n            if (this.tableData.length == 1) {\r\n              this.page--;\r\n            }\r\n            this.getTableData();\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消删除\"\r\n          });\r\n        });\r\n    },\r\n    // 初始化表单\r\n    initForm() {\r\n      if (this.$refs.authorityForm) {\r\n        this.$refs.authorityForm.resetFields();\r\n      }\r\n      this.form = {\r\n        authorityId: \"\",\r\n        authorityName: \"\",\r\n        parentId: \"0\"\r\n      };\r\n    },\r\n    // 关闭窗口\r\n    closeDialog() {\r\n      this.initForm();\r\n      this.dialogFormVisible = false;\r\n      this.apiDialogFlag = false;\r\n    },\r\n    // 确定弹窗\r\n\r\n    async enterDialog() {\r\n      if (this.form.authorityId == \"0\") {\r\n        this.$message({\r\n          type: \"error\",\r\n          message: \"角色id不能为0\"\r\n        });\r\n        return false;\r\n      }\r\n      this.$refs.authorityForm.validate(async valid => {\r\n        if (valid) {\r\n          switch (this.dialogType) {\r\n            case \"add\":\r\n              {\r\n                const res = await createAuthority(this.form);\r\n                if (res.code == 0) {\r\n                  this.$message({\r\n                    type: \"success\",\r\n                    message: \"添加成功!\"\r\n                  });\r\n                  this.getTableData();\r\n                  this.closeDialog();\r\n                }\r\n              }\r\n              break;\r\n            case \"edit\":\r\n              {\r\n                const res = await updateAuthority(this.form);\r\n                if (res.code == 0) {\r\n                  this.$message({\r\n                    type: \"success\",\r\n                    message: \"添加成功!\"\r\n                  });\r\n                  this.getTableData();\r\n                  this.closeDialog();\r\n                }\r\n              }\r\n              break;\r\n            case \"copy\": {\r\n              const data = {\r\n                authority: {\r\n                  authorityId: \"string\",\r\n                  authorityName: \"string\",\r\n                  datauthorityId: [],\r\n                  parentId: \"string\"\r\n                },\r\n                oldAuthorityId: 0\r\n              };\r\n              data.authority.authorityId = this.form.authorityId;\r\n              data.authority.authorityName = this.form.authorityName;\r\n              data.authority.parentId = this.form.parentId;\r\n              data.authority.dataAuthorityId = this.copyForm.dataAuthorityId;\r\n              data.oldAuthorityId = this.copyForm.authorityId;\r\n              const res = await copyAuthority(data);\r\n              if (res.code == 0) {\r\n                this.$message({\r\n                  type: \"success\",\r\n                  message: \"复制成功！\"\r\n                });\r\n                this.getTableData();\r\n              }\r\n            }\r\n          }\r\n\r\n          this.initForm();\r\n          this.dialogFormVisible = false;\r\n        }\r\n      });\r\n    },\r\n    setOptions() {\r\n      this.AuthorityOption = [\r\n        {\r\n          authorityId: \"0\",\r\n          authorityName: \"根角色\"\r\n        }\r\n      ];\r\n      this.setAuthorityOptions(this.tableData, this.AuthorityOption, false);\r\n    },\r\n    setAuthorityOptions(AuthorityData, optionsData, disabled) {\r\n      this.form.authorityId = String(this.form.authorityId);\r\n      AuthorityData &&\r\n        AuthorityData.map(item => {\r\n          if (item.children && item.children.length) {\r\n            const option = {\r\n              authorityId: item.authorityId,\r\n              authorityName: item.authorityName,\r\n              disabled: disabled || item.authorityId == this.form.authorityId,\r\n              children: []\r\n            };\r\n            this.setAuthorityOptions(\r\n              item.children,\r\n              option.children,\r\n              disabled || item.authorityId == this.form.authorityId\r\n            );\r\n            optionsData.push(option);\r\n          } else {\r\n            const option = {\r\n              authorityId: item.authorityId,\r\n              authorityName: item.authorityName,\r\n              disabled: disabled || item.authorityId == this.form.authorityId\r\n            };\r\n            optionsData.push(option);\r\n          }\r\n        });\r\n    },\r\n    // 增加角色\r\n    addAuthority(parentId) {\r\n      this.initForm();\r\n      this.dialogTitle = \"新增角色\";\r\n      this.dialogType = \"add\";\r\n      this.form.parentId = parentId;\r\n      this.setOptions();\r\n      this.dialogFormVisible = true;\r\n    },\r\n    // 编辑角色\r\n    editAuthority(row) {\r\n      this.setOptions();\r\n      this.dialogTitle = \"编辑角色\";\r\n      this.dialogType = \"edit\";\r\n      for (let key in this.form) {\r\n        this.form[key] = row[key];\r\n      }\r\n      this.setOptions();\r\n      this.dialogFormVisible = true;\r\n    }\r\n  },\r\n  async created() {\r\n    this.pageSize = 999;\r\n    await this.getTableData();\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n.authority {\r\n  .el-input-number {\r\n    margin-left: 15px;\r\n    span {\r\n      display: none;\r\n    }\r\n  }\r\n  .button-box {\r\n    padding: 10px 20px;\r\n    .el-button {\r\n      float: right;\r\n    }\r\n  }\r\n}\r\n.role-box {\r\n  .el-tabs__content {\r\n    height: calc(100vh - 150px);\r\n    overflow: auto;\r\n  }\r\n}\r\n</style>"]}]}