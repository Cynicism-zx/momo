{"remainingRequest":"E:\\BaiduNetdiskDownload\\gin-vue-admin\\web\\node_modules\\_vue-loader@15.9.6@vue-loader\\lib\\index.js??vue-loader-options!E:\\BaiduNetdiskDownload\\gin-vue-admin\\web\\src\\view\\login\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\BaiduNetdiskDownload\\gin-vue-admin\\web\\src\\view\\login\\login.vue","mtime":1618975768725},{"path":"E:\\BaiduNetdiskDownload\\gin-vue-admin\\web\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\BaiduNetdiskDownload\\gin-vue-admin\\web\\node_modules\\_babel-loader@8.2.2@babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\BaiduNetdiskDownload\\gin-vue-admin\\web\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\BaiduNetdiskDownload\\gin-vue-admin\\web\\node_modules\\_vue-loader@15.9.6@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBBY3Rpb25zIH0gZnJvbSAidnVleCI7DQppbXBvcnQgeyBjYXB0Y2hhIH0gZnJvbSAiQC9hcGkvdXNlciI7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJMb2dpbiIsDQogIGRhdGEoKSB7DQogICAgY29uc3QgY2hlY2tVc2VybmFtZSA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsNCiAgICAgIGlmICh2YWx1ZS5sZW5ndGggPCA1IHx8IHZhbHVlLmxlbmd0aCA+IDEyKSB7DQogICAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoIuivt+i+k+WFpeato+ehrueahOeUqOaIt+WQjSIpKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGNhbGxiYWNrKCk7DQogICAgICB9DQogICAgfTsNCiAgICBjb25zdCBjaGVja1Bhc3N3b3JkID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gew0KICAgICAgaWYgKHZhbHVlLmxlbmd0aCA8IDYgfHwgdmFsdWUubGVuZ3RoID4gMTIpIHsNCiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWl5q2j56Gu55qE5a+G56CBIikpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgY2FsbGJhY2soKTsNCiAgICAgIH0NCiAgICB9Ow0KICAgIHJldHVybiB7DQogICAgICBjdXJZZWFyOiAwLA0KICAgICAgbG9jazogImxvY2siLA0KICAgICAgbG9naW5Gb3JtOiB7DQogICAgICAgIHVzZXJuYW1lOiAiYWRtaW4iLA0KICAgICAgICBwYXNzd29yZDogIjEyMzQ1NiIsDQogICAgICAgIGNhcHRjaGE6ICIiLA0KICAgICAgICBjYXB0Y2hhSWQ6ICIiLA0KICAgICAgfSwNCiAgICAgIHJ1bGVzOiB7DQogICAgICAgIHVzZXJuYW1lOiBbeyB2YWxpZGF0b3I6IGNoZWNrVXNlcm5hbWUsIHRyaWdnZXI6ICJibHVyIiB9XSwNCiAgICAgICAgcGFzc3dvcmQ6IFt7IHZhbGlkYXRvcjogY2hlY2tQYXNzd29yZCwgdHJpZ2dlcjogImJsdXIiIH1dLA0KICAgICAgfSwNCiAgICAgIGxvZ1ZlcmlmeTogIiIsDQogICAgICBwaWNQYXRoOiAiIiwNCiAgICB9Ow0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMubG9naW5WZWZpZnkoKTsNCiAgICB0aGlzLmN1clllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAuLi5tYXBBY3Rpb25zKCJ1c2VyIiwgWyJMb2dpbkluIl0pLA0KICAgIGFzeW5jIGxvZ2luKCkgew0KICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuTG9naW5Jbih0aGlzLmxvZ2luRm9ybSk7DQogICAgfSwNCiAgICBhc3luYyBzdWJtaXRGb3JtKCkgew0KICAgICAgdGhpcy4kcmVmcy5sb2dpbkZvcm0udmFsaWRhdGUoYXN5bmMgKHYpID0+IHsNCiAgICAgICAgaWYgKHYpIHsNCiAgICAgICAgICBjb25zdCBmbGFnID0gYXdhaXQgdGhpcy5sb2dpbigpOw0KICAgICAgICAgIGlmICghZmxhZykgew0KICAgICAgICAgICAgdGhpcy5sb2dpblZlZmlmeSgpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsDQogICAgICAgICAgICBtZXNzYWdlOiAi6K+35q2j56Gu5aGr5YaZ55m75b2V5L+h5oGvIiwNCiAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwNCiAgICAgICAgICB9KTsNCiAgICAgICAgICB0aGlzLmxvZ2luVmVmaWZ5KCk7DQogICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIGNoYW5nZUxvY2soKSB7DQogICAgICB0aGlzLmxvY2sgPT09ICJsb2NrIiA/ICh0aGlzLmxvY2sgPSAidW5sb2NrIikgOiAodGhpcy5sb2NrID0gImxvY2siKTsNCiAgICB9LA0KICAgIGxvZ2luVmVmaWZ5KCkgew0KICAgICAgY2FwdGNoYSh7fSkudGhlbigoZWxlKSA9PiB7DQogICAgICAgIHRoaXMucGljUGF0aCA9IGVsZS5kYXRhLnBpY1BhdGg7DQogICAgICAgIHRoaXMubG9naW5Gb3JtLmNhcHRjaGFJZCA9IGVsZS5kYXRhLmNhcHRjaGFJZDsNCiAgICAgIH0pOw0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/view/login","sourcesContent":["<template>\r\n  <div id=\"userLayout\" class=\"user-layout-wrapper\">\r\n    <div class=\"container\">\r\n      <div class=\"top\">\r\n        <div class=\"desc\">\r\n          <img class=\"logo_login\" src=\"@/assets/logo_login.png\" alt=\"\" />\r\n        </div>\r\n        <div class=\"header\">\r\n          <h1>欢迎使用LeopardLive</h1>\r\n          <a href=\"/\">\r\n            <!-- <img src=\"~@/assets/logo.png\" class=\"logo\" alt=\"logo\" /> -->\r\n            <span class=\"title\"></span>\r\n          </a>\r\n        </div>\r\n      </div>\r\n      <div class=\"main\">\r\n        <el-form\r\n          :model=\"loginForm\"\r\n          :rules=\"rules\"\r\n          ref=\"loginForm\"\r\n          @keyup.enter.native=\"submitForm\"\r\n        >\r\n          <el-form-item prop=\"username\">\r\n            <el-input placeholder=\"请输入用户名\" v-model=\"loginForm.username\">\r\n              <i class=\"el-input__icon el-icon-user\" slot=\"suffix\"></i\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item prop=\"password\">\r\n            <el-input\r\n              :type=\"lock === 'lock' ? 'password' : 'text'\"\r\n              placeholder=\"请输入密码\"\r\n              v-model=\"loginForm.password\"\r\n            >\r\n              <i\r\n                :class=\"'el-input__icon el-icon-' + lock\"\r\n                @click=\"changeLock\"\r\n                slot=\"suffix\"\r\n              ></i>\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item style=\"position: relative\">\r\n            <el-input\r\n              v-model=\"loginForm.captcha\"\r\n              name=\"logVerify\"\r\n              placeholder=\"请输入验证码\"\r\n              style=\"width: 60%\"\r\n            />\r\n            <div class=\"vPic\">\r\n              <img\r\n                v-if=\"picPath\"\r\n                :src=\"picPath\"\r\n                width=\"100%\"\r\n                height=\"100%\"\r\n                alt=\"请输入验证码\"\r\n                @click=\"loginVefify()\"\r\n              />\r\n            </div>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"submitForm\" style=\"width: 100%\"\r\n              >登 录</el-button\r\n            >\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n\r\n      <div class=\"footer\">\r\n        <div class=\"links\">\r\n          <a href=\"http://doc.DOUBLE-Baller/momo/\"\r\n            ><img src=\"@/assets/docs.png\" class=\"link-icon\"\r\n          /></a>\r\n          <a href=\"https://www.yuque.com/DOUBLE-Baller/\"\r\n            ><img src=\"@/assets/yuque.png\" class=\"link-icon\"\r\n          /></a>\r\n          <a href=\"https://github.com/DOUBLE-Baller/momo\"\r\n            ><img src=\"@/assets/github.png\" class=\"link-icon\"\r\n          /></a>\r\n          <a href=\"https://space.bilibili.com/DOUBLE-Baller/momo\"\r\n            ><img src=\"@/assets/video.png\" class=\"link-icon\"\r\n          /></a>\r\n        </div>\r\n        <div class=\"copyright\">Copyright &copy; {{ curYear }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from \"vuex\";\r\nimport { captcha } from \"@/api/user\";\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    const checkUsername = (rule, value, callback) => {\r\n      if (value.length < 5 || value.length > 12) {\r\n        return callback(new Error(\"请输入正确的用户名\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    const checkPassword = (rule, value, callback) => {\r\n      if (value.length < 6 || value.length > 12) {\r\n        return callback(new Error(\"请输入正确的密码\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      curYear: 0,\r\n      lock: \"lock\",\r\n      loginForm: {\r\n        username: \"admin\",\r\n        password: \"123456\",\r\n        captcha: \"\",\r\n        captchaId: \"\",\r\n      },\r\n      rules: {\r\n        username: [{ validator: checkUsername, trigger: \"blur\" }],\r\n        password: [{ validator: checkPassword, trigger: \"blur\" }],\r\n      },\r\n      logVerify: \"\",\r\n      picPath: \"\",\r\n    };\r\n  },\r\n  created() {\r\n    this.loginVefify();\r\n    this.curYear = new Date().getFullYear();\r\n  },\r\n  methods: {\r\n    ...mapActions(\"user\", [\"LoginIn\"]),\r\n    async login() {\r\n      return await this.LoginIn(this.loginForm);\r\n    },\r\n    async submitForm() {\r\n      this.$refs.loginForm.validate(async (v) => {\r\n        if (v) {\r\n          const flag = await this.login();\r\n          if (!flag) {\r\n            this.loginVefify();\r\n          }\r\n        } else {\r\n          this.$message({\r\n            type: \"error\",\r\n            message: \"请正确填写登录信息\",\r\n            showClose: true,\r\n          });\r\n          this.loginVefify();\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    changeLock() {\r\n      this.lock === \"lock\" ? (this.lock = \"unlock\") : (this.lock = \"lock\");\r\n    },\r\n    loginVefify() {\r\n      captcha({}).then((ele) => {\r\n        this.picPath = ele.data.picPath;\r\n        this.loginForm.captchaId = ele.data.captchaId;\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import \"@/style/login.scss\";\r\n</style>\r\n"]}]}